{
  "$schema": "https://hypar.io/Schemas/Function.json",
  "id": "2b918420-b91c-4a55-9236-fda279a957d5",
  "name": "NYC ZR 81-27: Daylight Evaluation",
  "description": "C# in-progress version of this",
  "language": "C#",
  "model_dependencies": [
    {
      "autohide": false,
      "name": "Envelope",
      "optional": true
    },
    {
      "autohide": false,
      "name": "Site",
      "optional": true
    },
    {
      "autohide": false,
      "name": "EnvelopeAndSite",
      "optional": true
    }
  ],
  "input_schema": {
    "type": "object",
    "properties": {
      "Qualify for East Midtown Subdistrict": {
        "$hyparDisableRange": true,
        "description": "Whether your site is subject to the height and setback modifications specified in section 81-663. Modifications made: - Daylight blockage will be calculated at the intersection of 150' height projected downward, and using the input building from 150' upward. - There will be no encroachment penalty - Daylight credit will be given even if street continuity is on.",
        "type": "boolean",
        "$hyparOrder": 1
      },
      "Skip Subdivide": {
        "$hyparDisableRange": true,
        "description": "Skip the portion of the code that subdivides your non-vertical edges into the 10' segments as specified by the code. Use this if your analysis is taking too long or timing out. Results will be less visually accurate and possibly less numerically accurate, but should give you a reasonable estimate of results. Use this with 'Debug Visualization' on in order to minimize difference between visual and numbers.",
        "default": false,
        "type": "boolean",
        "$hyparOrder": 2
      },
      "Vantage Streets": {
        "description": "A list of vantage streets to calculate for",
        "default": [],
        "type": "array",
        "$hyparOrder": 0,
        "items": {
          "name": "Vantage Street",
          "description": "A vantage street for calculation",
          "default": null,
          "type": "object",
          "properties": {
            "Line": {
              "description": "A line representing your vantage street, touching the lot line.",
              "$ref": "https://hypar.io/Schemas/Geometry/Line.json"
            },
            "Block Depth In Feet": {
              "type": "number",
              "description": "The depth of the block (not lot!) from this vantage street. Is used to calculate daylight boundaries, and only matters if block depth is less than 200'.",
              "default": 200
            },
            "Street Wall Continuity": {
              "type": "boolean",
              "$hyparDisableRange": true,
              "description": "Whether your vantage street is on a street designated in the zoning code as 'desired street wall continuity.' See Section 81-43: https://zr.planning.nyc.gov/article-viii/chapter-1#81-43."
            },
            "Width": {
              "description": "Width of your vantage street",
              "default": "60ft",
              "type": "string",
              "enum": [
                "60ft",
                "75ft",
                "80ft",
                "100ft",
                "140ft (Park Avenue)"
              ]
            },
            "Name": {
              "type": "string",
              "description": "Name of your vantage street",
              "default": "Unknown"
            }
          }
        }
      },
      "Debug Visualization": {
        "$hyparDisableRange": true,
        "description": "Visualize raw plan and section angles, rather than curved projections on a modified vertical scale. This is the grid and projection that is actually used to calculate all intersections and numbers, while the final curved version is for display.",
        "type": "boolean",
        "$hyparOrder": 3
      }
    }
  },
  "outputs": [],
  "element_types": [
    "https://prod-api.hypar.io/schemas/Envelope",
    "https://raw.githubusercontent.com/hypar-io/Schemas/master/Site.json",
    "https://raw.githubusercontent.com/hypar-io/Schemas/daylight-evaluation/NYCDaylightEvaluationVantagePoint.json"
  ],
  "repository_url": "",
  "source_file_key": null,
  "preview_image": null
}